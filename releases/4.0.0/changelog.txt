***************************************
*
* Puyo Puyo Chain Simulator
* Version 4.0.0
*
* Written by: Nick Woronekin
*
***************************************

******** Changelog ********

v4.0.0 - June 18, 2011

	* Complete rewrite, yet again.
	* Now supports using HTML5 Canvas to draw the puyo.
	  (It still supports using DOM methods).
	* New logo
	* Improved look of the options.
	* When you select a character's power, the score mode and target points
	  are automatically adjusted.
	* Improved scoring, should be 99% accurate now according to Puyo Puyo 7.
	* Added animation to the nuisance tray. It can be disabled.
	  (it's enabled by default.)
	* Numerous other changes.

v3.0.2 - February 4, 2011

	* Updated jQuery from 1.4.2 to 1.5. The release version also uses a copy
	  located on Google's CDN instead of a locally hosted one.
	  * UPDATE on March 11, 2011 - Updated jQuery to 1.5.1.
	* Added URL shortening for the chain URL (this was previously added in
	  v2.2.1 but was removed in v3.)
	* Fixed a major bug where loading a chain from a url that contained
	  the width and height parameters set the height incorrectly.
	* Fixed bug where switching from an animated puyo skin to a non-animated
	  puyo skin connected the puyo in the hidden top row.
	* Changed BBCode in Linking Codes to Chain ID (possible release of a new
	  version of the PPF Fever Editor in the future?) Due to an oversight,
	  the original bbcode didn't even work anyway when the field size
	  wasn't 6x12!
	* Changed the way the saved chains are stored. They no longer use JSON
	  and as a result json2.js is no longer needed. Saved chains that are
	  saved using the old way will be converted upon opening the
	  chain simulator. Unfortunately, this new method breaks the old
	  chain simulators when they try to load the saved chains (they encounter
	  a JSON.parse error.)
	* Changed the look of the saved chains. There is no longer a Load and
	  Delete button. Now, clicking the chain name will load it, and there
	  is a graphical delete button.
	* Reversed the order of the simulation speeds. 1 is now Slow and
	  9 is now Fast.
	* Some minor internal changes.

v3.0.1 - September 24, 2010

	* Switched doctype from XHTML1.0 Strict to HTML5.
	* Old style chain URL's now work.

v3.0.0 - August 28, 2010

	* Complete rewrite. Now uses jQuery and OOP.
	* New look.
	* New simulator skins that replace Standard and Eye Candy from v1 and v2.
		* Basic: Based off of Eye Candy from v1 without the fever backgrounds.
		* Standard: Based off of Eye Candy from v2 without the fever backgrounds
		  and X's. It's also the default skin.
		* Eye Candy: New skin that uses 15h Anniversary and Puyo 7 backgrounds.
	* 16x16 puyo removed. All skins now use 32x32 puyo.
	* Puyo now connect to each other in the field.
	* Puyo skins from Puyo 7 added.
	* Classic puyo skin from 15th Anniversary removed as the one in Puyo 7 is
	  identical and of higher quality.
	* Classic puyo skin now the default puyo skin.
	* Ability to change point value of point puyo (default is 50).
	* Added ability to save chains.
	* Improved score calculation. Should now be accurate according to Puyo 7.
	* Now saves settings using DOM storage if the browser supports it.
	  Otherwise it will still use cookies.
	* Removed chain image puyo and skin selections. They will now use
	  Puyo 2 puyo and a random skin.
	* Removed code generated for the PPF Fever Editor.
	* New query string used for linking codes.
	  * New: ?w=w&h=h&chain=c
	  * Old: ??(w,h)c
	  Old style is still used for bbcode.
	* Limited values for puyo to clear and target points.
	* Ability to freely switch between classic and fever scoring.
	* Added more control to the simulator speed. Also, it has been
	  moved to directly under the controls now.
	* Simulation controls redone to be more like Puyo 7. They are also
	  much less wordy.
	* "Chain from URL" now only shows up if a chain form the url was used.
	* Added 108 chain from Puyo~n. Maybe you should ask KONAMI for the CODE
	  to unlock it.
	
	To-do:
	
		* Add chain powers for Puyo 7 Mini and Mega Transformation.
		* Fix bug where you can't place puyo in IE9 Preview.
		  (This might be an IE bug as the wrong mouse button pressed
		  is returned.)
		* Fix problems with Opera for Wii (aka Internet Channel).
		* Finish up my #2 and #3 custom sets.